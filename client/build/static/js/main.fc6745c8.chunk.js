(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{143:function(e,t,n){},144:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(51),i=n.n(a),o=(n(143),n(24)),s=(n(144),n(8));function l(){return Object(s.jsx)("h2",{children:"Bookmarks"})}var u=n(71),j=n.n(u),d=n(79),h=n(173),b=n(174),O=n(170),g=n(176),f=n(172),p=n(171),x=n(10),m=n(34);var v=function(e){var t=e.setToken,n=Object(c.useState)(),r=Object(o.a)(n,2),a=r[0],i=r[1],l=Object(c.useState)(),u=Object(o.a)(l,2),v=u[0],S=u[1],y=Object(c.useState)(!1),w=Object(o.a)(y,2),k=w[0],C=w[1],I=Object(x.f)(),P=function(){var e=Object(d.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:v})}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){var n=e.token;console.log(n),I.push("/"),localStorage.setItem("token",n),t(n)}),(function(e){console.log("error"),C(!0)})).catch((function(e){C(!0),console.log("error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)(h.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(s.jsxs)(h.a.Column,{style:{maxWidth:450},children:[Object(s.jsx)(b.a,{as:"h2",color:"teal",textAlign:"center",children:"Log-in to your account"}),Object(s.jsxs)(O.a,{size:"large",onSubmit:P,error:k,children:[Object(s.jsxs)(g.a,{stacked:!0,children:[Object(s.jsx)(O.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:function(e){return i(e.target.value)}}),Object(s.jsx)(O.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:function(e){return S(e.target.value)}}),Object(s.jsx)(f.a,{color:"teal",fluid:!0,size:"large",children:"Login"})]}),Object(s.jsx)(p.a,{error:!0,header:"Login failed",children:"Login failed with an error."})]}),Object(s.jsxs)(p.a,{children:["New to us? ",Object(s.jsx)(m.b,{to:"/signup",children:"Sign Up"})]})]})})};var S=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(),i=Object(o.a)(a,2),l=i[0],u=i[1],x=Object(c.useState)(),v=Object(o.a)(x,2),S=v[0],y=v[1],w=Object(c.useState)(!1),k=Object(o.a)(w,2),C=k[0],I=k[1],P=Object(c.useState)(!1),L=Object(o.a)(P,2),T=L[0],A=L[1],z=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:S,email:n,password:l})}).then((function(e){200!=e.status?(A(!0),I(!1)):(A(!1),I(!0))}),(function(e){I(!1),A(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsx)(h.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(s.jsxs)(h.a.Column,{style:{maxWidth:450},children:[Object(s.jsx)(b.a,{as:"h2",color:"teal",textAlign:"center",children:"Create your account"}),Object(s.jsx)(O.a,{size:"large",onSubmit:z,success:C,error:T,children:Object(s.jsxs)(g.a,{stacked:!0,children:[Object(s.jsx)(O.a.Input,{fluid:!0,icon:"id badge",iconPosition:"left",placeholder:"Username",onChange:function(e){return y(e.target.value)}}),Object(s.jsx)(O.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:function(e){return r(e.target.value)}}),Object(s.jsx)(O.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:function(e){return u(e.target.value)}}),Object(s.jsxs)(p.a,{success:!0,header:"Signup Complete",children:["Successfully signed up! ",Object(s.jsx)(m.b,{to:"/login",children:"Log In"}),"."]}),Object(s.jsxs)(p.a,{error:!0,header:"Signup failed",children:["User with the same email already exists. ",Object(s.jsx)(m.b,{to:"/login",children:"Log In"}),"\xa0instead"]}),Object(s.jsx)(f.a,{color:"teal",fluid:!0,size:"large",children:"Signup"})]})}),Object(s.jsxs)(p.a,{children:["Already have an account with us? ",Object(s.jsx)(m.b,{to:"/login",children:"Log In"})]})]})})};n(157);var y=function(){var e=Object(c.useState)(localStorage.getItem("token")),t=Object(o.a)(e,2),n=t[0],r=t[1];return n?Object(s.jsx)(m.a,{children:Object(s.jsx)(x.c,{children:Object(s.jsx)(x.a,{path:"/",children:Object(s.jsx)(l,{})})})}):Object(s.jsxs)(m.a,{children:[Object(s.jsx)(x.a,{path:"/signup",children:Object(s.jsx)(S,{})}),Object(s.jsx)(x.a,{path:"/",children:Object(s.jsx)(v,{setToken:r})})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,177)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(y,{})}),document.getElementById("root")),w()}},[[158,1,2]]]);
//# sourceMappingURL=main.fc6745c8.chunk.js.map