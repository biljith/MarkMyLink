(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(52),i=n.n(r),s=(n(150),n(26)),l=(n(151),n(126)),o=n(127),j=n(133),d=n(132),h=n(178),u=n(101),b=n(183),O=n(179),x=n(131),g=n(181),p=n(4),f=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={},e.handleItemClick=function(t,n){var c=n.name;return e.setState({activeItem:c})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state.activeItem;return Object(p.jsxs)("div",{children:[Object(p.jsxs)(h.a,{pointing:!0,inverted:!0,children:[Object(p.jsxs)(h.a.Item,{name:"Home",active:"Home"===e,onClick:this.handleItemClick,children:["Home",Object(p.jsx)(u.a,{color:"teal",children:"10"})]}),Object(p.jsxs)(h.a.Item,{name:"Cat1",active:"Cat1"===e,onClick:this.handleItemClick,children:["Category 1",Object(p.jsx)(u.a,{color:"teal",children:"1"})]}),Object(p.jsxs)(h.a.Item,{name:"Cat2",active:"Cat2"===e,onClick:this.handleItemClick,children:["Category 2",Object(p.jsx)(u.a,{color:"teal",children:"1"})]}),Object(p.jsx)(h.a.Menu,{position:"right",children:Object(p.jsx)(h.a.Item,{name:"logout",active:"logout"===e,onClick:this.handleItemClick})})]}),Object(p.jsx)(b.a,{children:Object(p.jsxs)(O.a.Group,{children:[Object(p.jsxs)(O.a,{children:[Object(p.jsxs)(O.a.Content,{children:[Object(p.jsx)(x.a,{floated:"right",size:"mini",src:"/images/avatar/large/steve.jpg"}),Object(p.jsx)(O.a.Header,{children:"Steve Sanders"}),Object(p.jsx)(O.a.Meta,{children:"Friends of Elliot"}),Object(p.jsxs)(O.a.Description,{children:["Steve wants to add you to the group ",Object(p.jsx)("strong",{children:"best friends"})]})]}),Object(p.jsx)(O.a.Content,{extra:!0,centered:!0,children:Object(p.jsx)("div",{className:"ui three buttons",textAlign:"center",children:Object(p.jsxs)(g.a.Group,{centered:!0,children:[Object(p.jsx)(g.a,{children:"View"}),Object(p.jsx)(g.a,{children:"Edit"}),Object(p.jsx)(g.a,{children:"Delete"})]})})})]}),Object(p.jsxs)(O.a,{children:[Object(p.jsxs)(O.a.Content,{children:[Object(p.jsx)(x.a,{floated:"right",size:"mini",src:"/images/avatar/large/molly.png"}),Object(p.jsx)(O.a.Header,{children:"Molly Thomas"}),Object(p.jsx)(O.a.Meta,{children:"New User"}),Object(p.jsxs)(O.a.Description,{children:["Molly wants to add you to the group ",Object(p.jsx)("strong",{children:"musicians"})]})]}),Object(p.jsx)(O.a.Content,{extra:!0,children:Object(p.jsx)("div",{className:"ui three buttons",textAlign:"center",children:Object(p.jsxs)(g.a.Group,{centered:!0,inverted:!0,children:[Object(p.jsx)(g.a,{children:"View"}),Object(p.jsx)(g.a,{children:"Edit"}),Object(p.jsx)(g.a,{children:"Delete"})]})})})]}),Object(p.jsxs)(O.a,{children:[Object(p.jsxs)(O.a.Content,{children:[Object(p.jsx)(x.a,{floated:"right",size:"mini",src:"/images/avatar/large/jenny.jpg"}),Object(p.jsx)(O.a.Header,{children:"Jenny Lawrence"}),Object(p.jsx)(O.a.Meta,{children:"New User"}),Object(p.jsx)(O.a.Description,{children:"Jenny requested permission to view your contact details"})]}),Object(p.jsx)(O.a.Content,{extra:!0,children:Object(p.jsx)("div",{className:"ui three buttons",textAlign:"center",children:Object(p.jsxs)(g.a.Group,{centered:!0,inverted:!0,children:[Object(p.jsx)(g.a,{children:"View"}),Object(p.jsx)(g.a,{children:"Edit"}),Object(p.jsx)(g.a,{children:"Delete"})]})})})]})]})})]})}}]),n}(c.Component),m=n(75),v=n.n(m),C=n(98),y=n(184),S=n(185),w=n(177),k=n(180),I=n(10),A=n(35);var P=function(e){var t=e.setToken,n=Object(c.useState)(),a=Object(s.a)(n,2),r=a[0],i=a[1],l=Object(c.useState)(),o=Object(s.a)(l,2),j=o[0],d=o[1],h=Object(c.useState)(!1),u=Object(s.a)(h,2),O=u[0],x=u[1],f=Object(I.f)(),m=function(){var e=Object(C.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:j})}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()})).then((function(e){var n=e.token;console.log(n),f.push("/"),localStorage.setItem("token",n),t(n)}),(function(e){console.log("error"),x(!0)})).catch((function(e){x(!0),console.log("error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(y.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(p.jsxs)(y.a.Column,{style:{maxWidth:450},children:[Object(p.jsx)(S.a,{as:"h2",color:"teal",textAlign:"center",children:"Log-in to your account"}),Object(p.jsxs)(w.a,{size:"large",onSubmit:m,error:O,children:[Object(p.jsxs)(b.a,{stacked:!0,children:[Object(p.jsx)(w.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:function(e){return i(e.target.value)}}),Object(p.jsx)(w.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:function(e){return d(e.target.value)}}),Object(p.jsx)(g.a,{color:"teal",fluid:!0,size:"large",children:"Login"})]}),Object(p.jsx)(k.a,{error:!0,header:"Login failed",children:"Login failed with an error."})]}),Object(p.jsxs)(k.a,{children:["New to us? ",Object(p.jsx)(A.b,{to:"/signup",children:"Sign Up"})]})]})})};var L=function(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(),i=Object(s.a)(r,2),l=i[0],o=i[1],j=Object(c.useState)(),d=Object(s.a)(j,2),h=d[0],u=d[1],O=Object(c.useState)(!1),x=Object(s.a)(O,2),f=x[0],m=x[1],I=Object(c.useState)(!1),P=Object(s.a)(I,2),L=P[0],T=P[1],D=function(){var e=Object(C.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:h,email:n,password:l})}).then((function(e){200!=e.status?(T(!0),m(!1)):(T(!1),m(!0))}),(function(e){m(!1),T(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(y.a,{textAlign:"center",style:{height:"100vh"},verticalAlign:"middle",children:Object(p.jsxs)(y.a.Column,{style:{maxWidth:450},children:[Object(p.jsx)(S.a,{as:"h2",color:"teal",textAlign:"center",children:"Create your account"}),Object(p.jsx)(w.a,{size:"large",onSubmit:D,success:f,error:L,children:Object(p.jsxs)(b.a,{stacked:!0,children:[Object(p.jsx)(w.a.Input,{fluid:!0,icon:"id badge",iconPosition:"left",placeholder:"Username",onChange:function(e){return u(e.target.value)}}),Object(p.jsx)(w.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:function(e){return a(e.target.value)}}),Object(p.jsx)(w.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:function(e){return o(e.target.value)}}),Object(p.jsxs)(k.a,{success:!0,header:"Signup Complete",children:["Successfully signed up! ",Object(p.jsx)(A.b,{to:"/login",children:"Log In"}),"."]}),Object(p.jsxs)(k.a,{error:!0,header:"Signup failed",children:["User with the same email already exists. ",Object(p.jsx)(A.b,{to:"/login",children:"Log In"}),"\xa0instead"]}),Object(p.jsx)(g.a,{color:"teal",fluid:!0,size:"large",children:"Signup"})]})}),Object(p.jsxs)(k.a,{children:["Already have an account with us? ",Object(p.jsx)(A.b,{to:"/login",children:"Log In"})]})]})})};n(164);var T=function(){var e=Object(c.useState)(localStorage.getItem("token")),t=Object(s.a)(e,2),n=t[0],a=t[1];return n?Object(p.jsx)(A.a,{children:Object(p.jsx)(I.c,{children:Object(p.jsx)(I.a,{path:"/",children:Object(p.jsx)(f,{})})})}):Object(p.jsxs)(A.a,{children:[Object(p.jsx)(I.a,{path:"/signup",children:Object(p.jsx)(L,{})}),Object(p.jsx)(I.a,{path:"/",children:Object(p.jsx)(P,{setToken:a})})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,186)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root")),D()}},[[165,1,2]]]);
//# sourceMappingURL=main.0eaa6f1c.chunk.js.map